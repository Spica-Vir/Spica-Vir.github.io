<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Linux bash script - variables, command outputs, and determine statements" /><meta property="og:locale" content="en" /><meta name="description" content="No update for so long - I have been busy with some technical work in the group. The masters students I mentor are using LAMMPS for classical molecular dynamics simulations, with which neither my supervisor nor myself have much experience. It is a delicate job to compile parallel LAMMPS package and design job submission scripts on Imperial cluster, or Imperial RCS. Luckily it is fruitful. By doing so my knowledge of both Linux bash programming, which I haven’t actually engaged in for more than one year, and the structure of the cluster has increased a lot." /><meta property="og:description" content="No update for so long - I have been busy with some technical work in the group. The masters students I mentor are using LAMMPS for classical molecular dynamics simulations, with which neither my supervisor nor myself have much experience. It is a delicate job to compile parallel LAMMPS package and design job submission scripts on Imperial cluster, or Imperial RCS. Luckily it is fruitful. By doing so my knowledge of both Linux bash programming, which I haven’t actually engaged in for more than one year, and the structure of the cluster has increased a lot." /><link rel="canonical" href="https://spica-vir.github.io/posts/Linux-bash-script-variables,-command-outputs,-and-determine-statements/" /><meta property="og:url" content="https://spica-vir.github.io/posts/Linux-bash-script-variables,-command-outputs,-and-determine-statements/" /><meta property="og:site_name" content="Spica. Vir" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-31T16:21:30+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Linux bash script - variables, command outputs, and determine statements" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-04-01T00:39:31+01:00","datePublished":"2022-03-31T16:21:30+01:00","description":"No update for so long - I have been busy with some technical work in the group. The masters students I mentor are using LAMMPS for classical molecular dynamics simulations, with which neither my supervisor nor myself have much experience. It is a delicate job to compile parallel LAMMPS package and design job submission scripts on Imperial cluster, or Imperial RCS. Luckily it is fruitful. By doing so my knowledge of both Linux bash programming, which I haven’t actually engaged in for more than one year, and the structure of the cluster has increased a lot.","headline":"Linux bash script - variables, command outputs, and determine statements","mainEntityOfPage":{"@type":"WebPage","@id":"https://spica-vir.github.io/posts/Linux-bash-script-variables,-command-outputs,-and-determine-statements/"},"url":"https://spica-vir.github.io/posts/Linux-bash-script-variables,-command-outputs,-and-determine-statements/"}</script><title>Linux bash script - variables, command outputs, and determine statements | Spica. Vir</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Spica. Vir"><meta name="application-name" content="Spica. Vir"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://cdn.jsdelivr.net/gh/spica-vir/spica-vir.github.io/images//avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Spica. Vir</a></div><div class="site-subtitle font-italic">Research, techniques and interests</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/Spica-Vir" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="" aria-label="" target="_blank" rel="noopener"> <i class=""></i> </a> <a href=" javascript:location.href = 'mailto:' + ['spica.h.zhou','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="" aria-label="" target="_blank" rel="noopener"> <i class=""></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Linux bash script - variables, command outputs, and determine statements</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Linux bash script - variables, command outputs, and determine statements</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/Spica-Vir">Spica.Vir</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2022-03-31 16:21:30 +0100" data-toggle="tooltip" data-placement="bottom" title="Thu, Mar 31, 2022, 4:21 PM +0100" >Mar 31, 2022</em> </span> <span> Updated <em class="timeago" date="2022-04-01 00:39:31 +0100 " data-toggle="tooltip" data-placement="bottom" title="Fri, Apr 1, 2022, 12:39 AM +0100" >Apr 1, 2022</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="894 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><p>No update for so long - I have been busy with some technical work in the group. The masters students I mentor are using <a href="https://www.lammps.org/">LAMMPS</a> for classical molecular dynamics simulations, with which neither my supervisor nor myself have much experience. It is a delicate job to compile parallel LAMMPS package and design job submission scripts on Imperial cluster, or <a href="https://www.imperial.ac.uk/admin-services/ict/self-service/research-support/rcs/">Imperial RCS</a>. Luckily it is fruitful. By doing so my knowledge of both Linux bash programming, which I haven’t actually engaged in for more than one year, and the structure of the cluster has increased a lot.</p><p>I will probably update my thinking in the following days, as long as time permits. I still have 2 unfinished posts, <em><a href="https://spica-vir.github.io/posts/%E5%8D%97%E4%BA%AC%E4%B8%B9%E9%98%B3%E5%8D%97%E6%9C%9D%E7%9F%B3%E5%88%BB%E5%88%97%E8%A1%A8%E4%B8%8E%E5%9D%90%E6%A0%87/">the stone curving of Southern Dynasties</a></em> and <em><a href="https://spica-vir.github.io/posts/Parameter-list-for-Grimme's-DFT-D3-and-gCP-method/">parameter lists for Grimme’s DFT-D3 method</a></em>, which has been delayed for so long. Hopefully I’ll address them in this weekend.</p><h1 id="variables">Variables</h1><p>Variables should be named as the combination of <strong>numbers, letters, and underscore</strong>.</p><h2 id="special-variables">Special variables<a href="#special-variables" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>Here is the list of special variables and their meanings, which should not be occupied when programming.</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">VARIABLES<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">$0<td style="text-align: left">Name + path of the current script<tr><td style="text-align: center">$n<td style="text-align: left">n is an integer &gt; 0. External variables, entered after the script name before executing<tr><td style="text-align: center">$#<td style="text-align: left">The number of external variables<tr><td style="text-align: center">$*<td style="text-align: left">All the external variables, “$1”, “$2”, …<tr><td style="text-align: center">”$*”<td style="text-align: left">All the external variables as a single variable, “$1 $2 …”<tr><td style="text-align: center">$@, “$@”<td style="text-align: left">Same to $*, all the external variables, “$1”, “$2”, …<tr><td style="text-align: center">$?<td style="text-align: left">Exit status of the last command. Successful, =0; Failed, &gt;0<tr><td style="text-align: center">$$<td style="text-align: left">PID of the current process</table></div><h2 id="environmental-variables">Environmental variables<a href="#environmental-variables" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>The specific definition of environmental variables depend on the specific environment. Here the important environmental variables of <a href="https://www.imperial.ac.uk/admin-services/ict/self-service/research-support/rcs/">Imperial cluster</a> / <a href="https://www.openpbs.org/">PBS job scheduler</a> and <a href="https://www.archer2.ac.uk/">ARCHER2</a> / <a href="https://slurm.schedmd.com/overview.html">slurm job scheduler</a> are listed for reference.</p><p><strong>Imperial cluster / PBS</strong></p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">VARIABLES<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">${HOME}<td style="text-align: left">Home directory, /rds/general/user/${USER}/home/<tr><td style="text-align: center">${USER}<td style="text-align: left">User name<tr><td style="text-align: center">${TMP}<td style="text-align: left">Temporary (work) directory, /rds/general/ephemeral/user/${USER}/ephemeral<tr><td style="text-align: center">${PBS_JOBID}<td style="text-align: left">ID of the current PBS job<tr><td style="text-align: center">${PBS_NODEFILE}<td style="text-align: left">The list of nodes currently running the PBS job</table></div><p><strong>ARCHER2 / slurm</strong></p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">VARIABLES<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">${HOME}<td style="text-align: left">Home directory, /rds/general/user/${USER}/home/<tr><td style="text-align: center">${USER}<td style="text-align: left">User name</table></div><dl><dt>Note<dd>There is no available environmental variable to obtain the ID of an slurm job. To do that, use the command below:<div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nv">JOBID</span><span class="o">=</span><span class="sb">`</span>sacct <span class="nt">-u</span> <span class="k">${</span><span class="nv">USER</span><span class="k">}</span> <span class="nt">-n</span> <span class="nt">-X</span> <span class="nt">--format</span> jobid <span class="nt">--name</span> jobname.slurm <span class="nt">--state</span> r<span class="sb">`</span>
<span class="nv">JOBID</span><span class="o">=</span><span class="sb">`</span><span class="nb">echo</span> <span class="k">${</span><span class="nv">JOBID</span><span class="k">}</span> | rev | <span class="nb">cut</span> <span class="nt">-d</span><span class="s1">' '</span> <span class="nt">-f1</span> | rev<span class="sb">`</span>
</pre></table></code></div></div></dl><h2 id="variable-operations">Variable operations<a href="#variable-operations" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>List variables are defined as <code class="language-plaintext highlighter-rouge">(elem1 elem2 ...)</code>. Common operations for a list variable <code class="language-plaintext highlighter-rouge">${LIST}</code>:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">OPERATIONS<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">${LIST}[n]<td style="text-align: left">n &gt;= 0, the nth element of ${LIST}<tr><td style="text-align: center">${LIST}<td style="text-align: left">The first element of ${LIST}, ${LIST}[0]<tr><td style="text-align: center">${LIST}[@], ${LIST}[*]<td style="text-align: left">All the elements of ${LIST}<tr><td style="text-align: center">${#LIST}[@]<td style="text-align: left">The length ${LIST}</table></div><p>String variables can be truncated from a specified character or a specified index. Taking <code class="language-plaintext highlighter-rouge">link='spica-vir.github.io'</code> as an example:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">OPERATIONS<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">${link%.*}<td style="text-align: left">Cut the right most ‘.’ and the content on its right, ${link%.*}=spica-vir.github<tr><td style="text-align: center">${link%%.*}<td style="text-align: left">Cut the left most ‘.’ and the content on its right, ${link%%.*}=spica-vir<tr><td style="text-align: center">${link#*.}<td style="text-align: left">Cut the left most ‘.’ and the content on its left, ${link#*.}=github.io<tr><td style="text-align: center">${link##*.}<td style="text-align: left">Cut the right most ‘.’ and the content on its left, ${link##*.}=io<tr><td style="text-align: center">${link: 3:6}<td style="text-align: left">Return to the string with indices 3~6, including 2 ends, ${link: 3:6}=ca-v<tr><td style="text-align: center">${link: 6}<td style="text-align: left">Return to the string starting from the index 6, ${link: 6}=vir.github.io<tr><td style="text-align: center">${link: -6}<td style="text-align: left">Return to the string of the last 6 characters, ${link: -6}=hub.io</table></div><h1 id="command-outputs">Command outputs</h1><p>The output of commands can be redirected using the symbols listed below:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">SYMBOLS<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">0<td style="text-align: left">Standard input<tr><td style="text-align: center">1<td style="text-align: left">Standard output<tr><td style="text-align: center">2<td style="text-align: left">Standard error<tr><td style="text-align: center">command &gt; file<td style="text-align: left">Redirect the standard output of ‘command’ to a newly created ‘file’<tr><td style="text-align: center">command » file<td style="text-align: left">Redirect the standard output of ‘command’ to the end of ‘file’. If ‘file’ does not exist, create it<tr><td style="text-align: center">command &gt;&amp; file, command &amp;&gt; file<td style="text-align: left">Redirect the standard output and standard error of ‘command’ to a newly created ‘file’<tr><td style="text-align: center">2&gt;&amp;1<td style="text-align: left">Copy the behavior of standard output and use it for standard error</table></div><p>Analysis:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># Command 1</span>
<span class="nb">command</span> <span class="o">&gt;</span> file.out 2&gt;&amp;1
<span class="c"># Command 2</span>
<span class="nb">command </span>2&gt;&amp;1 <span class="o">&gt;</span> file.out
</pre></table></code></div></div><ul><li>Command 1: Standard output redirected to ‘file.out’; Copied to standard error; Standard error redirected to ‘file.out’. —&gt; Output and error printed in ‘file.out’.<li>Command 2: Standard output by default printed on screen; Copied to standard error; Standard output redirected to ‘file.out’. —&gt; Output printed in ‘file.out’, error printed on screen.</ul><h1 id="determine-statements">Determine statements</h1><p>Determine statements are important for both ‘if’ sentences and ‘while’ loops. The differences between statements acting on variables / files, or numbers / strings should be noticed.</p><h2 id="for-files-and-directories">For files and directories<a href="#for-files-and-directories" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><div class="table-wrapper"><table><thead><tr><th style="text-align: center">OPERATORS<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">-e<td style="text-align: left">File / directory exists, True<tr><td style="text-align: center">-s<td style="text-align: left">File / directory not empty, True<tr><td style="text-align: center">-d<td style="text-align: left">Is a directory, True<tr><td style="text-align: center">-f<td style="text-align: left">Is a regular file, True<tr><td style="text-align: center">-h<td style="text-align: left">Is a soft link, True<tr><td style="text-align: center">-r<td style="text-align: left">Readable, True<tr><td style="text-align: center">-w<td style="text-align: left">Writable, True<tr><td style="text-align: center">-x<td style="text-align: left">Executable, True</table></div><h2 id="for-variables">For variables<a href="#for-variables" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><div class="table-wrapper"><table><thead><tr><th style="text-align: center">OPERATORS<th style="text-align: left">MEANINGS<tbody><tr><td style="text-align: center">${variable}<td style="text-align: left">${variable} exists, True<tr><td style="text-align: center">-z<td style="text-align: left">Variable is empty, True</table></div><h2 id="for-strings">For strings<a href="#for-strings" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>For string comparison, in case of spaces, adding “” to protect variables is recommended. Besides, <code class="language-plaintext highlighter-rouge">==</code> is preferred to <code class="language-plaintext highlighter-rouge">-eq</code> due to the same reason.</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">OPERATOR<th style="text-align: left">MEANING<tbody><tr><td style="text-align: center">”${string_1}” == *”${string_2}”*<td style="text-align: left">If ${string_1} contains sub-string ${string_2}, True</table></div><h2 id="for-numbers">For numbers<a href="#for-numbers" class="anchor"><i class="fas fa-hashtag"></i></a></h2></h2><p>For integer comparison, either <code class="language-plaintext highlighter-rouge">-eq</code> formats or <code class="language-plaintext highlighter-rouge">==</code> formats are acceptable. But to compare float numbers, <code class="language-plaintext highlighter-rouge">bc</code> command should be used:</p><div class="table-wrapper"><table><thead><tr><th style="text-align: center">COMMAND<th style="text-align: left">MEANING<tbody><tr><td style="text-align: center">$(echo “$a==$b” | bc) == 1<td style="text-align: left">If float $a equals float $b, True</table></div><dl><dt>Note<dd><code class="language-plaintext highlighter-rouge">bc</code> command returns an integer variable, and it cannot be used as determine statements, otherwise the statement can only tell whether the specific variable is empty.</dl></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/technique/'>Technique</a>, <a href='/categories/programming/'>programming</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/job-scheduler/" class="post-tag no-text-decoration" >job scheduler</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Linux bash script - variables, command outputs, and determine statements - Spica. Vir&url=https://spica-vir.github.io/posts/Linux-bash-script-variables,-command-outputs,-and-determine-statements/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Linux bash script - variables, command outputs, and determine statements - Spica. Vir&u=https://spica-vir.github.io/posts/Linux-bash-script-variables,-command-outputs,-and-determine-statements/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Linux bash script - variables, command outputs, and determine statements - Spica. Vir&url=https://spica-vir.github.io/posts/Linux-bash-script-variables,-command-outputs,-and-determine-statements/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Launch-Jupyter-Notebook-from-a-Remote-Server/">Set Up a Remote Jupyter Server</a><li><a href="/posts/Structure-and-usage-of-clusters/">Structure and usage of clusters</a><li><a href="/posts/How-to-use-Imperial-College-Research-Data-Store-(RDS)/">How to use Imperial College Research Data Store (RDS)</a><li><a href="/posts/Connect-to-the-Imperial-Cluster/">Connect to the Imperial Cluster</a><li><a href="/posts/CRYSTAL17-Resources/">CRYSTAL Resources</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/regular-inspection/">regular inspection</a> <a class="post-tag" href="/tags/anaconda3/">Anaconda3</a> <a class="post-tag" href="/tags/crystal/">CRYSTAL</a> <a class="post-tag" href="/tags/imperial-rcs/">Imperial RCS</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/cluster/">cluster</a> <a class="post-tag" href="/tags/archer2/">ARCHER2</a> <a class="post-tag" href="/tags/sublime-text-4/">Sublime Text 4</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Launch-Jupyter-Notebook-from-a-Remote-Server/"><div class="card-body"> <em class="timeago small" date="2022-08-10 18:11:07 +0100" >Aug 10, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Set Up a Remote Jupyter Server</h3><div class="text-muted small"><p> In this post the method to launch the Jupyter service remotely is introduced, i.e., set up a remote Jupyter server. Note that is different from setting up a remote desktop connection, where the ima...</p></div></div></a></div><div class="card"> <a href="/posts/Create-a-new-environment-in-Anaconda3/"><div class="card-body"> <em class="timeago small" date="2022-01-26 19:52:11 +0000" >Jan 26, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Install Anaconda3 and create a new environment</h3><div class="text-muted small"><p> This post is to summarize the procedures to create an Anaconda python environment in Windows and Linux systems. Tested on Jan. 08, 2022 with Windows 10 21H2, and on Jan. 29, 2022 with Imperial clus...</p></div></div></a></div><div class="card"> <a href="/posts/Structure-and-usage-of-clusters/"><div class="card-body"> <em class="timeago small" date="2022-04-06 16:59:03 +0100" >Apr 6, 2022</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Structure and usage of clusters</h3><div class="text-muted small"><p> This page is adapted from my Crystal Growth project notebook with added contents, which was written between Feb. and Mar. 2022 and shared within the group for induction and training proposes. Both ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/%E5%8D%97%E4%BA%AC%E4%B8%B9%E9%98%B3%E5%8D%97%E6%9C%9D%E7%9F%B3%E5%88%BB%E5%88%97%E8%A1%A8%E4%B8%8E%E5%9D%90%E6%A0%87/" class="btn btn-outline-primary" prompt="Older"><p>南京丹阳南朝石刻列表与GPS坐标</p></a> <a href="/posts/Jupyter-Themes/" class="btn btn-outline-primary" prompt="Newer"><p>Install and configure themes for Jupyter Notebook</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/Spica-Vir">Spica.Vir</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/regular-inspection/">regular inspection</a> <a class="post-tag" href="/tags/anaconda3/">Anaconda3</a> <a class="post-tag" href="/tags/crystal/">CRYSTAL</a> <a class="post-tag" href="/tags/imperial-rcs/">Imperial RCS</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/cluster/">cluster</a> <a class="post-tag" href="/tags/archer2/">ARCHER2</a> <a class="post-tag" href="/tags/sublime-text-4/">Sublime Text 4</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
